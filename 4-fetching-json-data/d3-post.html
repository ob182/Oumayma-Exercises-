<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>D3 POST Request Example</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
  </head>
  <body>
    <h1>D3 POST Request Example</h1>

    <script>
      const url = "https://httpbin.org/post";

      const postData = {
        name: "Waldo Ma",
        email: "waldo@example.com",
        age: 75
      };

      d3.json(url, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(postData)
      })
      .then(response => {
        console.log("SUCCESS!");
        console.log("Response:", response);

        // Display the echoed JSON on the webpage
        const echoedData = response.json;

        const pre = document.createElement("pre");
        pre.textContent = JSON.stringify(echoedData, null, 2);
        document.body.appendChild(pre);
      })
      .catch(error => {
        console.error("Error in POST request:", error);
      });
    </script>
  </body>
</html>


